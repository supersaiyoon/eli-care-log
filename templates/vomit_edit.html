{% extends "base.html" %}
{% block body %}
    <h3 class="mb-3">Edit Vomit</h3>
    <form method="post"
        action="{{ url_for('vomit_update', vomit_id=row.id) }}"
        class="vstack gap-3">

        <div>
            <label class="form-label">Date/Time</label>
            <input class="form-control"
                   type="datetime-local"
                   name="dt"
                   value="{{ row.dt.strftime('%Y-%m-%dT%H:%M') }}"
                   required>
        </div>

        <div>
            <label class="form-label">Size</label>
            <select class="form-select" name="vomit_size" required>
                <option value="S" {% if row.vomit_size == 'S' %}selected{% endif %}>Small</option>
                <option value="M" {% if row.vomit_size == 'M' %}selected{% endif %}>Medium</option>
                <option value="L" {% if row.vomit_size == 'L' %}selected{% endif %}>Large</option>
            </select>
        </div>

        <div>
            <label class="form-label">Rate (mL/hr)</label>
            <input class="form-control"
                   type="number"
                   name="feed_rate"
                   maxlength="3"
                   value="{{ row.feed_rate }}">
        </div>

        <div>
            <label class="form-label">Reason</label>
            <textarea class="form-control"
                      name="vomit_reason"
                      rows="2">{{ row.vomit_reason or "" }}</textarea>
        </div>

        <button class="btn btn-primary" type="submit">Save changes</button>
        <a class="btn btn-outline-secondary" href="{{ url_for('vomit_list') }}">Cancel</a>
    </form>
{% endblock %}