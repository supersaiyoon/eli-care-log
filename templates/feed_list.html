{% extends "base.html" %}
{% block body %}
    <h3 class="mb-3">Feed entries</h3>
    <div class="mb-3">
        <a class="btn btn-primary"
           href="{{ url_for('feed_new') }}">
           New entry
        </a>
    </div>

    <table class="table table-striped align-middle">
        <thead>
            <tr>
                <th>Date</th>
                <th>Feed No.</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Volume (mL)</th>
                <th>Rate (mL/hr)</th>
                <th>Notes</th>
                <th>Actions</th>
            </tr>
        </thead>

        <tbody>
        {% for f in rows %}
        <tr>
            <td>{{ f.date.strftime('%Y-%m-%d') }}</td>
            <td>{{ f.feed_num }}</td>
            <td>{{ f.start_time.strftime('%H:%M') if f.start_time else '' }}</td>
            <td>{{ f.end_time.strftime('%H:%M') if f.end_time else '' }}</td>
            <td>{{ f.feed_vol_ml if f.feed_vol_ml is not none else '' }}</td>
            <td>{{ f.feed_rate if f.feed_rate is not none else '' }}</td>
            <td>{{ f.notes or '' }}</td>
            <td>
                <a href="{{ url_for('feed_edit', feed_id=f.id) }}"
                class="btn btn-sm btn-outline-primary me-1">
                Edit
                </a>
                
                <form action="{{ url_for('feed_delete', feed_id=f.id) }}"
                    method="post"
                    class="d-inline">
                    <button type="submit"
                            class="btn btn-sm btn-outline-danger"
                            onclick="return confirm('Delete this entry?');">
                            Delete
                    </button>
                </form>
            </td>
        </tr>
        {% else %}
        <tr><td colspan="5" class="tedt-muted">No entries yet.</td></tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}